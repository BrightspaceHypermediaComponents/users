language: node_js
node_js: node
addons:
  chrome: stable
script:
- npm run lint
- |
  if [ $TRAVIS_PULL_REQUEST != false ] && [ $TRAVIS_SECURE_ENV_VARS == true ]; then
    echo "Pull request with secure environment variables, running Sauce tests...";
    npm run test:polymer:sauce || travis_terminate 1;
  else
    echo "Not a pull request and/or no secure environment variables, running headless tests...";
    npm run test:polymer:local || travis_terminate 1;
  fi
env:
  global:
  # SAUCE_USERNAME
  - secure: CphQrl3w/0STo1fHwergdtsNBbNpMXFMzR99V60lp/btWKtVdFeTF98kIeN6Ss+uda+QSpbxYzNNkJJDkXcPqCGilg7gEFMpCKygECxBdJv0caVrwCqxVNCFH5gt4+SL0MQLGqGAwaQTPHtpkvyB9yQy9gJ61WcBJlGehFNgHsXNl4pqh3Z1iUNP0/scoswQ/sKYLHFSlwSMM7/qAiSEB0YA5FiB+ia7RYLAFUCFmbaSIBodX82du1r4ZV36qkXExH9e9mVKQw5nvAtUOvMSssIkMwyopxCch+2I7b6ZA1n3NhAlrgwsODQbWt5ylvEqSgsl7Fn+Zz4BqMXBuQ/2h3A8D8e6NVPblt2iZRoPiC03SIImqUqhweLfHNa8E+zJIAafC6tS4RVxQ9RAPPuBVCLhShbtqoZPDuWoczVDOpyhDyyho5sQzGecGHuhE2lkF2J03E7kTn+uOEC5DZg8H2zGsL1IckrIAmeqwYYRx/6Hol7jXbH9bDipbq85HZB8/SVvF2xFs+nwepbCvnPcoBXEPie3EviPVkLIjNF2dT3pMAxadobP1dCujuGOm3Nrgl7TTCcncCposSmLE/pQxoeXEh2y/W6vg1Dh5ddLNiPTAkpKSR6mRBdZtuuzn+DLvDKxHx0kSNvEtgresq651dEhZbk4WP63FWbOjJUTpz4=
  # SAUCE_ACCESS_KEY
  - secure: nSRejAOMhdgjZ49lLdwccF2ETOJGvl0l4Td4HGXZwhDilEr7AlSGiEP/jbvwcCx2IeauXLnP23MB5ozqFM2GjlApaFAJWuhyMJzeUJTdat1+v96jGQ6JXFLEvt7dcaFNb5xC6jTVm3pSJOLviEvpkphpwkBDDeqLyiq0x9wa0niCyLwSjdyldhwdcEol0bnXyY/LuVYOJEEClm7Un0XASahr+UEl37PmiCJa14PIBG2pemW9z0eXB12E1Vc22psAcamM2Oijnk+j1UlEaoQLB8YuzEAAcqSwo5vu3yvgPwh7g0VCK2RNobYUfALh0wW9s6czB2Ps4A9ZhKeVbxv/FM0/vRUHcqw/dtIbvFKsUJy8amriiNZDcgfKVpz0YIM++xB0aCd2Te2NUbfjwajiJKdw9yr0IiI6px4q4o06ae0n2MiEfGF2eTBXgAmWz8wnfmL2iLg252b3xtHsrUKCgwim/MD63BMP4GeKO1Q0eJ2Kp3Ug8KHFbPwUW2LuN4FabcVKSd9OiGPkKfrMVc4MG2xiSRwn60Buw/kgB+OjtOKZW8j1Bx2Co1aRB5aW5Hy1IFRqC5M+pZT+O2xP9Sm5CYf5foiWGDVmCknayCJJ/LpjTmvvfcRv11EvQDiDU23XZcYUtI6v+Py6t7/M60L9D8AbwjBXJGAfAmaC8AKsJ1M=
